{% load search_tags %}

<div class="search-hero">
    <div class="tna-container">
        <div class="tna-column tna-column--full">
            <div class="search-hero__container">
                <h1 class="tna-heading-xl search-hero__heading">{{search_tab|search_title}}</h1>
                <form method="GET" class="search-hero__form tna-!--margin-top-s" data-id="search-form" id="catalogue-search-form">
                    <label for="{{form.q.id_for_label}}" class="sr-only">Search term</label>
                    {{ form.q.errors }}
                    {{ form.q }}

                    {# render hidden inputs for fields controlled by other forms #}
                    {% if form.group.value == bucketkeys.COMMUNITY.value %}
                        {% if form.vis_view.value == vis_view.TIMELINE %}
                            {# TODO: Keep, not in scope for Ohos-Etna at this time #}
                            {% comment %}
                            {% render_fields_as_hidden form exclude='q opening_start_date opening_end_date filter_keyword' %}
                            {% endcomment %}
                            {% render_fields_as_hidden form exclude='q chart_data_type chart_selected' %}
                        {% elif form.vis_view.value == vis_view.TAG %}
                            {% render_fields_as_hidden form exclude='q timeline_type creation_date_from' %}
                        {% else %}
                            {# TODO: Keep, not in scope for Ohos-Etna at this time #}
                            {% comment %}
                            {% render_fields_as_hidden form exclude='q opening_start_date opening_end_date filter_keyword timeline_type creation_date_from' %}
                            {% endcomment %}
                            {% render_fields_as_hidden form exclude='q timeline_type creation_date_from chart_data_type chart_selected' %}
                        {% endif %}
                    {% else %}
                        {# TODO: Keep, not in scope for Ohos-Etna at this time #}
                        {% comment %}
                        {% render_fields_as_hidden form exclude='q vis_view timeline_type creation_date_from' %}
                        {% endcomment %}
                        {% render_fields_as_hidden form exclude='q vis_view timeline_type creation_date_from chart_data_type chart_selected filter_keyword opening_start_date opening_end_date' %}
                    {% endif %}
                

                    <input type="submit" value="Search" class="search-hero__form-submit">
                </form>
            </div>
        </div>
    </div>
</div>
